{"ast":null,"code":"import _classCallCheck from \"/Users/jared/workspace/github/jaredpalmer/react-suspense/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jared/workspace/github/jaredpalmer/react-suspense/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jared/workspace/github/jaredpalmer/react-suspense/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jared/workspace/github/jaredpalmer/react-suspense/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jared/workspace/github/jaredpalmer/react-suspense/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jared/workspace/github/jaredpalmer/react-suspense/src/components/ArtistAlbums.js\";\nimport React, { Suspense, Fragment } from 'react';\nimport { fetchArtistAlbumsJSON } from '../api';\nimport { Link } from '@reach/router';\nimport IconPerson from './Icon/IconPerson';\nimport { unstable_createResource as createResource } from 'react-cache';\nimport Img from './Img';\nvar ArtistAlbumsResource = createResource(fetchArtistAlbumsJSON);\n\nvar ArtistAlbums =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ArtistAlbums, _React$Component);\n\n  function ArtistAlbums() {\n    _classCallCheck(this, ArtistAlbums);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ArtistAlbums).apply(this, arguments));\n  }\n\n  _createClass(ArtistAlbums, [{\n    key: \"render\",\n    value: function render() {\n      var albums = ArtistAlbumsResource.read(this.props.id);\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14\n        },\n        __self: this\n      }, \"Albums\"), React.createElement(AlbumGrid, {\n        albums: albums,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ArtistAlbums;\n}(React.Component);\n\nfunction AlbumGrid(_ref) {\n  var albums = _ref.albums;\n  return React.createElement(\"div\", {\n    className: \"album-grid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, albums && albums.slice(0, 6).map(function (album) {\n    return React.createElement(AlbumItem, {\n      album: album,\n      key: album.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    });\n  }));\n}\n\nfunction AlbumItem(_ref2) {\n  var album = _ref2.album;\n  return React.createElement(Link, {\n    to: \"/album/\".concat(album.id),\n    key: album.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, album.images && album.images.length > 0 ? React.createElement(\"div\", {\n    className: \"album-artwork\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(Suspense, {\n    maxDuration: 300,\n    fallback: React.createElement(\"img\", {\n      className: \"album-image\",\n      src: album.images[0].url,\n      alt: album.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(Img, {\n    className: \"album-image\",\n    src: album.images[2].url,\n    alt: album.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"album-title center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, album.name), React.createElement(\"div\", {\n    className: \"album-meta center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, album.total_tracks, \" Songs \\u2022 \", album.release_date.slice(0, 4))) : React.createElement(\"div\", {\n    className: \"album-artwork\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(IconPerson, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  })));\n}\n\nexport default ArtistAlbums;","map":{"version":3,"sources":["/Users/jared/workspace/github/jaredpalmer/react-suspense/src/components/ArtistAlbums.js"],"names":["React","Suspense","Fragment","fetchArtistAlbumsJSON","Link","IconPerson","unstable_createResource","createResource","Img","ArtistAlbumsResource","ArtistAlbums","albums","read","props","id","Component","AlbumGrid","slice","map","album","AlbumItem","images","length","url","name","total_tracks","release_date"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,QAA1B,QAA0C,OAA1C;AACA,SAASC,qBAAT,QAAsC,QAAtC;AACA,SAASC,IAAT,QAAqB,eAArB;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,SAASC,uBAAuB,IAAIC,cAApC,QAA0D,aAA1D;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,IAAMC,oBAAoB,GAAGF,cAAc,CAACJ,qBAAD,CAA3C;;IAEMO,Y;;;;;;;;;;;;;6BACK;AACP,UAAMC,MAAM,GAAGF,oBAAoB,CAACG,IAArB,CAA0B,KAAKC,KAAL,CAAWC,EAArC,CAAf;AACA,aACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE,oBAAC,SAAD;AAAW,QAAA,MAAM,EAAEH,MAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF;AAMD;;;;EATwBX,KAAK,CAACe,S;;AAYjC,SAASC,SAAT,OAA+B;AAAA,MAAVL,MAAU,QAAVA,MAAU;AAC7B,SACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,MAAM,IACLA,MAAM,CACHM,KADH,CACS,CADT,EACY,CADZ,EAEGC,GAFH,CAEO,UAAAC,KAAK;AAAA,WAAI,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAEA,KAAlB;AAAyB,MAAA,GAAG,EAAEA,KAAK,CAACL,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAJ;AAAA,GAFZ,CAFJ,CADF;AAQD;;AAED,SAASM,SAAT,QAA8B;AAAA,MAATD,KAAS,SAATA,KAAS;AAC5B,SACE,oBAAC,IAAD;AAAM,IAAA,EAAE,mBAAYA,KAAK,CAACL,EAAlB,CAAR;AAAgC,IAAA,GAAG,EAAEK,KAAK,CAACL,EAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGK,KAAK,CAACE,MAAN,IAAgBF,KAAK,CAACE,MAAN,CAAaC,MAAb,GAAsB,CAAtC,GACC;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,QAAD;AACE,IAAA,WAAW,EAAE,GADf;AAEE,IAAA,QAAQ,EACN;AACE,MAAA,SAAS,EAAC,aADZ;AAEE,MAAA,GAAG,EAAEH,KAAK,CAACE,MAAN,CAAa,CAAb,EAAgBE,GAFvB;AAGE,MAAA,GAAG,EAAEJ,KAAK,CAACK,IAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUE,oBAAC,GAAD;AACE,IAAA,SAAS,EAAC,aADZ;AAEE,IAAA,GAAG,EAAEL,KAAK,CAACE,MAAN,CAAa,CAAb,EAAgBE,GAFvB;AAGE,IAAA,GAAG,EAAEJ,KAAK,CAACK,IAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADF,EAiBE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqCL,KAAK,CAACK,IAA3C,CAjBF,EAkBE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGL,KAAK,CAACM,YADT,oBACgCN,KAAK,CAACO,YAAN,CAAmBT,KAAnB,CAAyB,CAAzB,EAA4B,CAA5B,CADhC,CAlBF,CADD,GAwBC;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAzBJ,CADF;AAgCD;;AAED,eAAeP,YAAf","sourcesContent":["import React, { Suspense, Fragment } from 'react';\nimport { fetchArtistAlbumsJSON } from '../api';\nimport { Link } from '@reach/router';\nimport IconPerson from './Icon/IconPerson';\nimport { unstable_createResource as createResource } from 'react-cache';\nimport Img from './Img';\nconst ArtistAlbumsResource = createResource(fetchArtistAlbumsJSON);\n\nclass ArtistAlbums extends React.Component {\n  render() {\n    const albums = ArtistAlbumsResource.read(this.props.id);\n    return (\n      <Fragment>\n        <h3>Albums</h3>\n        <AlbumGrid albums={albums} />\n      </Fragment>\n    );\n  }\n}\n\nfunction AlbumGrid({ albums }) {\n  return (\n    <div className=\"album-grid\">\n      {albums &&\n        albums\n          .slice(0, 6)\n          .map(album => <AlbumItem album={album} key={album.id} />)}\n    </div>\n  );\n}\n\nfunction AlbumItem({ album }) {\n  return (\n    <Link to={`/album/${album.id}`} key={album.id}>\n      {album.images && album.images.length > 0 ? (\n        <div className=\"album-artwork\">\n          <Suspense\n            maxDuration={300}\n            fallback={\n              <img\n                className=\"album-image\"\n                src={album.images[0].url}\n                alt={album.name}\n              />\n            }\n          >\n            <Img\n              className=\"album-image\"\n              src={album.images[2].url}\n              alt={album.name}\n            />\n          </Suspense>\n          <div className=\"album-title center\">{album.name}</div>\n          <div className=\"album-meta center\">\n            {album.total_tracks} Songs â€¢ {album.release_date.slice(0, 4)}\n          </div>\n        </div>\n      ) : (\n        <div className=\"album-artwork\">\n          <IconPerson />\n        </div>\n      )}\n    </Link>\n  );\n}\n\nexport default ArtistAlbums;\n"]},"metadata":{},"sourceType":"module"}