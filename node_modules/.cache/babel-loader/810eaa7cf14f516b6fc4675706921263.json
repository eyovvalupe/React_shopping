{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jared/workspace/github/jaredpalmer/react-suspense/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jared/workspace/github/jaredpalmer/react-suspense/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { fetch } from './auth';\nimport uniqBy from 'lodash.uniqby';\nexport function fetchMeJSON() {\n  return _fetchMeJSON.apply(this, arguments);\n}\n\nfunction _fetchMeJSON() {\n  _fetchMeJSON = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch('https://api.spotify.com/v1/me');\n\n          case 2:\n            res = _context.sent;\n            _context.next = 5;\n            return res.json();\n\n          case 5:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n  return _fetchMeJSON.apply(this, arguments);\n}\n\nexport function fetchArtistTopTracksJSON(_x) {\n  return _fetchArtistTopTracksJSON.apply(this, arguments);\n}\n\nfunction _fetchArtistTopTracksJSON() {\n  _fetchArtistTopTracksJSON = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(id) {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return fetch(\"https://api.spotify.com/v1/artists/\".concat(id, \"/top-tracks?market=US\"));\n\n          case 2:\n            res = _context2.sent;\n            _context2.next = 5;\n            return res.json();\n\n          case 5:\n            return _context2.abrupt(\"return\", _context2.sent.tracks);\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n  return _fetchArtistTopTracksJSON.apply(this, arguments);\n}\n\nexport function fetchArtistJSON(_x2) {\n  return _fetchArtistJSON.apply(this, arguments);\n}\n\nfunction _fetchArtistJSON() {\n  _fetchArtistJSON = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3(id) {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return fetch(\"https://api.spotify.com/v1/artists/\".concat(id));\n\n          case 2:\n            res = _context3.sent;\n            _context3.next = 5;\n            return res.json();\n\n          case 5:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 6:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n  return _fetchArtistJSON.apply(this, arguments);\n}\n\nexport function fetchArtistRelatedArtistsJSON(_x3) {\n  return _fetchArtistRelatedArtistsJSON.apply(this, arguments);\n}\n\nfunction _fetchArtistRelatedArtistsJSON() {\n  _fetchArtistRelatedArtistsJSON = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee4(id) {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return fetch(\"https://api.spotify.com/v1/artists/\".concat(id, \"/related-artists\"));\n\n          case 2:\n            res = _context4.sent;\n            _context4.next = 5;\n            return res.json();\n\n          case 5:\n            return _context4.abrupt(\"return\", _context4.sent.artists);\n\n          case 6:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n  return _fetchArtistRelatedArtistsJSON.apply(this, arguments);\n}\n\nexport function searchArtistsJSON(_x4) {\n  return _searchArtistsJSON.apply(this, arguments);\n}\n\nfunction _searchArtistsJSON() {\n  _searchArtistsJSON = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee5(query) {\n    var res, _ref, artists;\n\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return fetch(\"https://api.spotify.com/v1/search?q=\".concat(query.trim(), \"&type=artist,album\"));\n\n          case 2:\n            res = _context5.sent;\n            _context5.next = 5;\n            return res.json();\n\n          case 5:\n            _ref = _context5.sent;\n            artists = _ref.artists;\n            return _context5.abrupt(\"return\", artists && artists.items ? artists.items : []);\n\n          case 8:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this);\n  }));\n  return _searchArtistsJSON.apply(this, arguments);\n}\n\nexport function fetchArtistAlbumsJSON(_x5) {\n  return _fetchArtistAlbumsJSON.apply(this, arguments);\n}\n\nfunction _fetchArtistAlbumsJSON() {\n  _fetchArtistAlbumsJSON = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee6(id) {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.next = 2;\n            return fetch(\"https://api.spotify.com/v1/artists/\".concat(id, \"/albums\"));\n\n          case 2:\n            res = _context6.sent;\n            _context6.t0 = uniqBy;\n            _context6.next = 6;\n            return res.json();\n\n          case 6:\n            _context6.t1 = _context6.sent.items;\n            return _context6.abrupt(\"return\", (0, _context6.t0)(_context6.t1, 'name'));\n\n          case 8:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n  return _fetchArtistAlbumsJSON.apply(this, arguments);\n}\n\nexport function fetchAlbumJSON(_x6) {\n  return _fetchAlbumJSON.apply(this, arguments);\n}\n\nfunction _fetchAlbumJSON() {\n  _fetchAlbumJSON = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee7(id) {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.next = 2;\n            return fetch(\"https://api.spotify.com/v1/albums/\".concat(id));\n\n          case 2:\n            res = _context7.sent;\n            _context7.t0 = uniqBy;\n            _context7.next = 6;\n            return res.json();\n\n          case 6:\n            _context7.t1 = _context7.sent.items;\n            return _context7.abrupt(\"return\", (0, _context7.t0)(_context7.t1, 'name'));\n\n          case 8:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n  return _fetchAlbumJSON.apply(this, arguments);\n}\n\nexport function fetchAlbumTracksJSON(_x7) {\n  return _fetchAlbumTracksJSON.apply(this, arguments);\n}\n\nfunction _fetchAlbumTracksJSON() {\n  _fetchAlbumTracksJSON = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee8(id) {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            _context8.next = 2;\n            return fetch(\"https://api.spotify.com/v1/albums/\".concat(id, \"/tracks\"));\n\n          case 2:\n            res = _context8.sent;\n            _context8.next = 5;\n            return res.json();\n\n          case 5:\n            return _context8.abrupt(\"return\", _context8.sent.items);\n\n          case 6:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8, this);\n  }));\n  return _fetchAlbumTracksJSON.apply(this, arguments);\n}","map":{"version":3,"sources":["/Users/jared/workspace/github/jaredpalmer/react-suspense/src/api/index.js"],"names":["fetch","uniqBy","fetchMeJSON","res","json","fetchArtistTopTracksJSON","id","tracks","fetchArtistJSON","fetchArtistRelatedArtistsJSON","artists","searchArtistsJSON","query","trim","items","fetchArtistAlbumsJSON","fetchAlbumJSON","fetchAlbumTracksJSON"],"mappings":"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","sourcesContent":["import { fetch } from './auth';\nimport uniqBy from 'lodash.uniqby';\n\nexport async function fetchMeJSON() {\n  const res = await fetch('https://api.spotify.com/v1/me');\n  return await res.json();\n}\n\nexport async function fetchArtistTopTracksJSON(id) {\n  const res = await fetch(\n    `https://api.spotify.com/v1/artists/${id}/top-tracks?market=US`\n  );\n  return (await res.json()).tracks;\n}\n\nexport async function fetchArtistJSON(id) {\n  const res = await fetch(`https://api.spotify.com/v1/artists/${id}`);\n  return await res.json();\n}\n\nexport async function fetchArtistRelatedArtistsJSON(id) {\n  const res = await fetch(\n    `https://api.spotify.com/v1/artists/${id}/related-artists`\n  );\n  return (await res.json()).artists;\n}\n\nexport async function searchArtistsJSON(query) {\n  const res = await fetch(\n    `https://api.spotify.com/v1/search?q=${query.trim()}&type=artist,album`\n  );\n  const { artists } = await res.json();\n  return artists && artists.items ? artists.items : [];\n}\n\nexport async function fetchArtistAlbumsJSON(id) {\n  const res = await fetch(`https://api.spotify.com/v1/artists/${id}/albums`);\n  return uniqBy((await res.json()).items, 'name');\n}\n\nexport async function fetchAlbumJSON(id) {\n  const res = await fetch(`https://api.spotify.com/v1/albums/${id}`);\n  return uniqBy((await res.json()).items, 'name');\n}\n\nexport async function fetchAlbumTracksJSON(id) {\n  const res = await fetch(`https://api.spotify.com/v1/albums/${id}/tracks`);\n\n  return (await res.json()).items;\n}\n"]},"metadata":{},"sourceType":"module"}