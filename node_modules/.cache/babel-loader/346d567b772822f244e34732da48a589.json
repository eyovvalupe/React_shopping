{"ast":null,"code":"import _classCallCheck from \"/Users/jared/workspace/github/jaredpalmer/react-suspense/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jared/workspace/github/jaredpalmer/react-suspense/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jared/workspace/github/jaredpalmer/react-suspense/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jared/workspace/github/jaredpalmer/react-suspense/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jared/workspace/github/jaredpalmer/react-suspense/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jared/workspace/github/jaredpalmer/react-suspense/src/components/AuthPage.js\";\nimport React from 'react';\nimport { setToken } from '../api/auth';\nimport { Redirect } from '@reach/router';\n\nvar AuthPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AuthPage, _React$Component);\n\n  function AuthPage() {\n    _classCallCheck(this, AuthPage);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(AuthPage).apply(this, arguments));\n  }\n\n  _createClass(AuthPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var hashParams = {};\n      var e,\n          r = /([^&;=]+)=?([^&;]*)/g,\n          q = window.location.hash.substring(1);\n\n      while (e = r.exec(q)) {\n        hashParams[e[1]] = decodeURIComponent(e[2]);\n      }\n\n      if (hashParams.access_token) {\n        setToken(hashParams.access_token);\n        window.location.href = '/';\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.user) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 21\n          },\n          __self: this\n        });\n      }\n\n      return null;\n    }\n  }]);\n\n  return AuthPage;\n}(React.Component);\n\nexport { AuthPage as default };","map":{"version":3,"sources":["/Users/jared/workspace/github/jaredpalmer/react-suspense/src/components/AuthPage.js"],"names":["React","setToken","Redirect","AuthPage","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","access_token","href","props","user","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,SAASC,QAAT,QAAyB,eAAzB;;IAEqBC,Q;;;;;;;;;;;;;wCACC;AAClB,UAAIC,UAAU,GAAG,EAAjB;AACA,UAAIC,CAAJ;AAAA,UACEC,CAAC,GAAG,sBADN;AAAA,UAEEC,CAAC,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,SAArB,CAA+B,CAA/B,CAFN;;AAGA,aAAQN,CAAC,GAAGC,CAAC,CAACM,IAAF,CAAOL,CAAP,CAAZ,EAAwB;AACtBH,QAAAA,UAAU,CAACC,CAAC,CAAC,CAAD,CAAF,CAAV,GAAmBQ,kBAAkB,CAACR,CAAC,CAAC,CAAD,CAAF,CAArC;AACD;;AACD,UAAID,UAAU,CAACU,YAAf,EAA6B;AAC3Bb,QAAAA,QAAQ,CAACG,UAAU,CAACU,YAAZ,CAAR;AACAN,QAAAA,MAAM,CAACC,QAAP,CAAgBM,IAAhB,GAAuB,GAAvB;AACD;AACF;;;6BACQ;AACP,UAAI,KAAKC,KAAL,CAAWC,IAAf,EAAqB;AACnB,eAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;AACD,aAAO,IAAP;AACD;;;;EAnBmCjB,KAAK,CAACkB,S;;SAAvBf,Q","sourcesContent":["import React from 'react';\nimport { setToken } from '../api/auth';\nimport { Redirect } from '@reach/router';\n\nexport default class AuthPage extends React.Component {\n  componentDidMount() {\n    let hashParams = {};\n    let e,\n      r = /([^&;=]+)=?([^&;]*)/g,\n      q = window.location.hash.substring(1);\n    while ((e = r.exec(q))) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n    if (hashParams.access_token) {\n      setToken(hashParams.access_token);\n      window.location.href = '/';\n    }\n  }\n  render() {\n    if (this.props.user) {\n      return <Redirect to=\"/\" />;\n    }\n    return null;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}